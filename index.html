<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Love Calculator - Calculate Your Love Compatibility</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Parisienne&family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
  <!-- Tone.js for sound effects -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
  <style>
    /* General styles and layout */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%); min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; overflow-x: hidden; position: relative; padding: 25px; }
    .hearts-container { position: fixed; width: 100%; height: 100%; overflow: hidden; z-index: 0; top: 0; left: 0; pointer-events: none; }
    .heart { position: absolute; color: rgba(255, 105, 180, 0.8); font-size: 22px; animation: float 8s ease-in infinite; opacity: 0; }
    .container { background: rgba(255, 255, 255, 0.95); border-radius: 20px; box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15); width: 100%; max-width: 500px; padding: 30px 25px; text-align: center; position: relative; z-index: 1; overflow: hidden; margin-bottom: 25px; }
    .container::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 60%); transform: rotate(30deg); z-index: -1; }
    h1 { font-family: 'Parisienne', cursive; color: #d64b76; font-size: 42px; margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); display: flex; justify-content: center; align-items: center; gap: 15px; }
    
    /* Spacing between elements */
    .input-group { margin-bottom: 25px; }
    .language-selector { margin-bottom: 25px; display: inline-block; position: relative; }
    .language-selector select { appearance: none; -webkit-appearance: none; -moz-appearance: none; background: #fff; border: 2px solid #ddd; padding: 10px 40px 10px 15px; border-radius: 20px; font-size: 16px; cursor: pointer; outline: none; transition: all 0.3s ease; font-weight: 500; color: #666; box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06); }
    .language-selector select:hover { border-color: #d64b76; }
    .language-selector select:focus { border-color: #d64b76; box-shadow: 0 0 0 3px rgba(214, 75, 118, 0.2); }
    .language-selector::after { content: '‚ñº'; position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #d64b76; font-size: 12px; pointer-events: none; }
    
    .input-group { text-align: left; }
    label { display: block; margin-bottom: 10px; color: #555; font-weight: 500; font-size: 16px; }
    input { width: 100%; padding: 15px 20px; border: 2px solid #e6e6e6; border-radius: 12px; font-size: 16px; transition: all 0.3s ease; }
    input:focus { border-color: #d64b76; outline: none; box-shadow: 0 0 0 3px rgba(214, 75, 118, 0.2); }
    .calculate-btn {background:linear-gradient(45deg, #ff6b6b, #d64b76); color:white; border:none; padding:16px 30px; border-radius:12px; font-size:18px; cursor:pointer; transition:all .3s ease; font-weight:600; 
      box-shadow:0 6px 18px rgba(214,75,118,0.3); width:100%; margin-bottom:20px; position:relative; overflow:hidden;}
    .calculate-btn::before {content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition:.5s;}
    .calculate-btn:hover::before {left:100%;}
    .calculate-btn:hover {transform:translateY(-3px); box-shadow:0 8-px 22px rgba(214,75,118,0.4);}
    .result { margin-top: 30px; padding: 25px; background: linear-gradient(45deg, #fff6f6, #ffeef2); border-radius: 15px; min-height: 180px; display: flex; flex-direction: column; justify-content: center; align-items: center; opacity: 0; transform: translateY(20px); transition: all .5s ease; position: relative; overflow: hidden; border: 2px dashed #ff9a9e; }
    .result.show { opacity: 1; transform: translateY(0); }
    .percentage { font-size: 52px; font-weight: 700; color: #d64b76; margin: 10px 0; font-family: 'Playfair Display', serif; text-shadow: 2px 2px 4px rgba(0, 0, 0, .1); }
    .message { font-size: 18px; color: #666; margin-top: 10px; text-align: center; line-height: 1.5; font-weight: 500; }
    .share-notification { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(100px); width: 90%; max-width: 400px; background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, .2); padding: 20px; z-index: 1000; opacity: 0; transition: all .4s ease; display: flex; align-items: center; justify-content: space-between; }
    .share-notification.show { transform: translateX(-50%) translateY(0); opacity: 1; }
    .share-notification-text { font-size: 16px; color: #d64b76; font-weight: 500; }
    .share-notification-btn { background: linear-gradient(45deg, #2196F3, #0D47A1); color: white; border: none; padding: 10px 20px; border-radius: 50px; font-size: 14px; cursor: pointer; transition: all .3s ease; font-weight: 500; box-shadow: 0 4px 10px rgba(33, 150, 243, 0.3); display: flex; align-items: center; justify-content: center; gap: 8px; }
    .share-notification-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 15px rgba(33, 150, 243, 0.4); }
    .heartbeat { animation: heartbeat 1.2s infinite; }
    .heart-emoji { font-size: 24px; margin: 0 5px; animation: pulse 2s infinite; }
    .custom-notification { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(100px); background-color: #4CAF50; color: white; padding: 15px 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); z-index: 1001; opacity: 0; transition: all 0.4s ease; text-align: center; font-size: 16px; }
    .custom-notification.show { transform: translateX(-50%) translateY(0); opacity: 1; }

    /* New "Heart Explosion" Effect */
    .heart-explosion { position: fixed; width: 100%; height: 100%; top: 0; left: 0; pointer-events: none; z-index: 2; overflow: hidden; }
    .heart-explosion .heart-piece { position: absolute; font-size: 24px; color: #ff6b6b; animation: explode 1s cubic-bezier(0.2, 0.8, 0.8, 0.2) forwards; opacity: 0; }
    
    @keyframes explode {
      0% {
        transform: translate(0, 0) scale(0);
        opacity: 1;
      }
      100% {
        transform: translate(var(--x), var(--y)) scale(1.5);
        opacity: 0;
      }
    }

    /* Floating hearts animation for background */
    .floating-hearts { position: fixed; width: 100%; height: 100%; pointer-events: none; z-index: 0; top: 0; left: 0; }
    .floating-heart { position: absolute; font-size: 24px; color: #ff6b6b; opacity: 0.6; animation: floatHeart 25s linear infinite; }
    
    @keyframes floatHeart {
      0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
      20% { opacity: 0.6; }
      100% { transform: translateY(-100vh) translateX(calc(var(--x) * 100px)) rotate(720deg); opacity: 0; }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    /* New CSS for falling hearts animation */
    .falling-hearts-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; pointer-events: none; z-index: 10; }
    .falling-heart { position: absolute; font-size: 24px; color: #d64b76; opacity: 0; animation: fall ease-in forwards; }
    
    @keyframes fall {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="hearts-container" id="hearts-container"></div>
  <div class="floating-hearts" id="floating-hearts"></div>
  <div class="container">
    <h1><i class="fas fa-heart heart-emoji"></i> Love Calculator <i class="fas fa-heart heart-emoji"></i></h1>
    <div class="language-selector">
      <select id="language-select">
        <option value="en">English</option>
        <option value="hi">Hindi</option>
        <option value="ur">Urdu</option>
        <option value="pa">Punjabi</option>
        <option value="mr">Marathi</option>
        <option value="gu">Gujarati</option>
        <option value="ta">Tamil</option>
        <option value="te">Telugu</option>
        <option value="ar">Arabic</option>
      </select>
    </div>
    <div class="input-group">
      <label id="label-name1" for="name1">‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
      <input type="text" id="name1" placeholder="‡§™‡§π‡§≤‡§æ ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç">
    </div>
    <div class="input-group">
      <label id="label-name2" for="name2">‡§Ü‡§™‡§ï‡•á ‡§∏‡§æ‡§•‡•Ä ‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
      <input type="text" id="name2" placeholder="‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç">
    </div>
    <button class="calculate-btn" id="calculate-btn">
      <i class="fas fa-heart"></i> ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§§‡§æ ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç
    </button>
    <div class="result" id="result">
      <div class="percentage" id="percentage">0%</div>
      <div class="message" id="message">‡§Ö‡§™‡§®‡•Ä ‡§™‡•ç‡§∞‡•á‡§Æ ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§§‡§æ ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç</div>
    </div>
  </div>
  <!-- New element for heart explosion effect -->
  <div class="heart-explosion" id="heart-explosion"></div>

  <!-- New container for falling hearts -->
  <div class="falling-hearts-container" id="falling-hearts-container"></div>

  <div class="share-notification" id="share-notification">
    <div class="share-notification-text">‡§Ö‡§™‡§®‡•á ‡§™‡§æ‡§∞‡•ç‡§ü‡§®‡§∞ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§™‡§®‡§æ ‡§≤‡§µ ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç!</div>
    <button class="share-notification-btn" id="share-notification-btn">
      <i class="fas fa-share-alt"></i> Share
    </button>
  </div>
  
  <div class="custom-notification" id="copy-notification">
    Message copied to clipboard!
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const calculateBtn = document.getElementById('calculate-btn');
      const name1Input = document.getElementById('name1');
      const name2Input = document.getElementById('name2');
      const resultDiv = document.getElementById('result');
      const percentageDiv = document.getElementById('percentage');
      const messageDiv = document.getElementById('message');
      const heartExplosionDiv = document.getElementById('heart-explosion');
      const heartsContainer = document.getElementById('hearts-container');
      const floatingHearts = document.getElementById('floating-hearts');
      const languageSelect = document.getElementById('language-select');
      const labelName1 = document.getElementById('label-name1');
      const labelName2 = document.getElementById('label-name2');
      const shareNotification = document.getElementById('share-notification');
      const shareNotificationBtn = document.getElementById('share-notification-btn');
      const copyNotification = document.getElementById('copy-notification');
      const fallingHeartsContainer = document.getElementById('falling-hearts-container');

      // Your app URL
      const appUrl = "https://play.google.com/store/apps/details?id=com.bestapp118.naam_se_jane_rashi";
      let audioSynth;

      // Initialize Tone.js for audio feedback
      function setupAudio() {
        try {
          if (Tone.context.state !== 'running') {
            Tone.start();
          }
          audioSynth = new Tone.Synth().toDestination();
        } catch (e) {
          console.error("Audio context failed to start:", e);
        }
      }

      // Romantic messages in different languages
      const romanticMessages = {
        en: ["Our love is a beautiful journey that I want to continue forever. üíñ", "You are the missing piece that completes my puzzle of life. üß©", "Every moment with you feels like a dream come true. üåü", "My heart beats only for you, now and always. üíì", "You make my world brighter just by being in it. ‚òÄÔ∏è", "With you, I've found my forever and always. üåà", "Your love is the greatest gift I've ever received. üéÅ", "I fall in love with you more every single day. üí´", "You are my today and all of my tomorrows. üåÖ", "Loving you is as natural as breathing. üå¨Ô∏è"],
        hi: ["‡§π‡§Æ‡§æ‡§∞‡§æ ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§è‡§ï ‡§ñ‡•Ç‡§¨‡§∏‡•Ç‡§∞‡§§ ‡§∏‡§´‡§∞ ‡§π‡•à ‡§ú‡•ã ‡§Æ‡•à‡§Ç ‡§π‡§Æ‡•á‡§∂‡§æ ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ/‡§ö‡§æ‡§π‡§§‡•Ä ‡§π‡•Ç‡§Ç‡•§ üíñ", "‡§§‡•Å‡§Æ ‡§µ‡§π ‡§ñ‡•ã‡§Ø‡§æ ‡§π‡•Å‡§Ü ‡§ü‡•Å‡§ï‡§°‡§º‡§æ ‡§π‡•ã ‡§ú‡•ã ‡§Æ‡•á‡§∞‡•Ä ‡§ú‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§ï‡•Ä ‡§™‡§π‡•á‡§≤‡•Ä ‡§ï‡•ã ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ üß©", "‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§∏‡§æ‡§• ‡§π‡§∞ ‡§™‡§≤ ‡§è‡§ï ‡§∏‡§ö‡•ç‡§ö‡•á ‡§∏‡§™‡§®‡•á ‡§ú‡•à‡§∏‡§æ ‡§≤‡§ó‡§§‡§æ ‡§π‡•à‡•§ üåü", "‡§Æ‡•á‡§∞‡§æ ‡§¶‡§ø‡§≤ ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§≤‡§ø‡§è ‡§ß‡§°‡§º‡§ï‡§§‡§æ ‡§π‡•à, ‡§Ü‡§ú ‡§î‡§∞ ‡§π‡§Æ‡•á‡§∂‡§æ‡•§ üíì", "‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§π‡•ã‡§®‡•á ‡§∏‡•á ‡§Æ‡•á‡§∞‡•Ä ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§î‡§∞ ‡§ö‡§Æ‡§ï‡§¶‡§æ‡§∞ ‡§π‡•ã ‡§ó‡§à ‡§π‡•à‡•§ ‚òÄÔ∏è", "‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§∏‡§æ‡§•, ‡§Æ‡•Å‡§ù‡•á ‡§Æ‡•á‡§∞‡•Ä ‡§π‡§Æ‡•á‡§∂‡§æ ‡§ï‡•Ä ‡§ñ‡•Å‡§∂‡•Ä ‡§Æ‡§ø‡§≤ ‡§ó‡§à ‡§π‡•à‡•§ üåà", "‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡§æ ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§Æ‡•Å‡§ù‡•á ‡§Æ‡§ø‡§≤‡§æ ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§§‡•ã‡§π‡§´‡§æ ‡§π‡•à‡•§ üéÅ", "‡§Æ‡•à‡§Ç ‡§π‡§∞ ‡§¶‡§ø‡§® ‡§§‡•Å‡§Æ‡•ç‡§π‡•á‡§Ç ‡§î‡§∞ ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§§‡•Ä/‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§ üí´", "‡§§‡•Å‡§Æ ‡§Æ‡•á‡§∞‡§æ ‡§Ü‡§ú ‡§î‡§∞ ‡§Æ‡•á‡§∞‡•á ‡§∏‡§≠‡•Ä ‡§ï‡§≤ ‡§π‡•ã‡•§ üåÖ", "‡§§‡•Å‡§Æ‡•ç‡§π‡•á‡§Ç ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§®‡§æ ‡§Æ‡•á‡§∞‡•á ‡§≤‡§ø‡§è ‡§∏‡§æ‡§Ç‡§∏ ‡§≤‡•á‡§®‡•á ‡§ú‡•à‡§∏‡§æ ‡§∏‡•ç‡§µ‡§æ‡§≠‡§æ‡§µ‡§ø‡§ï ‡§π‡•à‡•§ üå¨Ô∏è"],
        ur: ["€ÅŸÖÿßÿ±ÿß Ÿæ€åÿßÿ± ÿß€å⁄© ÿÆŸàÿ®ÿµŸàÿ±ÿ™ ÿ≥ŸÅÿ± €Å€í ÿ¨ÿ≥€í ŸÖ€å⁄∫ €ÅŸÖ€åÿ¥€Å ÿ¨ÿßÿ±€å ÿ±⁄©⁄æŸÜÿß ⁄Üÿß€Åÿ™ÿß/⁄Üÿß€Åÿ™€å €ÅŸà⁄∫€î üíñ", "ÿ™ŸÖ Ÿà€Å ⁄©⁄æŸà€åÿß €ÅŸàÿß Ÿπ⁄©⁄ëÿß €ÅŸà ÿ¨Ÿà ŸÖ€åÿ±€å ÿ≤ŸÜÿØ⁄Ø€å ⁄©€å Ÿæ€Å€åŸÑ€å ⁄©Ÿà ŸÖ⁄©ŸÖŸÑ ⁄©ÿ±ÿ™ÿß €Å€í€î üß©", "ÿ™ŸÖ€Åÿßÿ±€í ÿ≥ÿßÿ™⁄æ €Åÿ± ŸæŸÑ ÿß€å⁄© ÿ≥⁄Ü€í ÿÆŸàÿßÿ® ÿ¨€åÿ≥ÿß ŸÑ⁄Øÿ™ÿß €Å€í€î üåü", "ŸÖ€åÿ±ÿß ÿØŸÑ ÿµÿ±ŸÅ ÿ™ŸÖ€Åÿßÿ±€í ŸÑ€å€í ÿØ⁄æ⁄ë⁄©ÿ™ÿß €Å€íÿå ÿ¢ÿ¨ ÿßŸàÿ± €ÅŸÖ€åÿ¥€Å€î üíì", "ÿ™ŸÖ€Åÿßÿ±€í €ÅŸàŸÜ€í ÿ≥€í ŸÖ€åÿ±€å ÿØŸÜ€åÿß ÿßŸàÿ± ⁄ÜŸÖ⁄©ÿØÿßÿ± €ÅŸà ⁄Øÿ¶€å €Å€í €Å€í€î ‚òÄÔ∏è", "ÿ™ŸÖ€Åÿßÿ±€í ÿ≥ÿßÿ™⁄æÿå ŸÖÿ¨⁄æ€í ŸÖ€åÿ±€å €ÅŸÖ€åÿ¥€Å ⁄©€å ÿÆŸàÿ¥€å ŸÖŸÑ ⁄Øÿ¶€å €Å€í€î üåà", "ÿ™ŸÖ€Åÿßÿ±ÿß Ÿæ€åÿßÿ± ŸÖÿ¨⁄æ€í ŸÖŸÑÿß ÿ≥ÿ® ÿ≥€í ÿ®⁄ëÿß ÿ™ÿ≠ŸÅ€Å €Å€í€î üéÅ", "ŸÖ€å⁄∫ €Åÿ± ÿ±Ÿàÿ≤ ÿ™ŸÖ€Å€å⁄∫ ÿßŸàÿ± ÿ≤€åÿßÿØ€Å Ÿæ€åÿßÿ± ⁄©ÿ±ÿ™€å/⁄©ÿ±ÿ™ÿß €ÅŸà⁄∫€î üí´", "ÿ™ŸÖ ŸÖ€åÿ±ÿß ÿ¢ÿ¨ ÿßŸàÿ± ŸÖ€åÿ±€í ÿ≥ÿ® ⁄©ŸÑ €ÅŸà€î üåÖ", "ÿ™ŸÖ€Å€å⁄∫ Ÿæ€åÿßÿ± ⁄©ÿ±ŸÜÿß ŸÖ€åÿ±€í ŸÑ€å€í ÿ≥ÿßŸÜÿ≥ ŸÑ€åŸÜ€í ÿ¨€åÿ≥ÿß ŸÅÿ∑ÿ±€å €Å€í€î üå¨Ô∏è"]
      };

      // Language translations
      const translations = {
        en: {
          labelName1: "Your Name", labelName2: "Your Partner's Name", name1Placeholder: "Enter first name", name2Placeholder: "Enter second name", calculateBtn: "Calculate Love Compatibility", defaultMessage: "Enter names to calculate your love compatibility",
          messages: { 90: "Perfect match! You are meant for each other!", 70: "Great compatibility! You have a strong connection.", 50: "Good potential! You can work on your relationship.", 0: "You need to put more effort into this relationship." },
          shareNotificationText: "Share your love score with your partner!", shareTitle: "Love Compatibility"
        },
        hi: {
          labelName1: "‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ", labelName2: "‡§Ü‡§™‡§ï‡•á ‡§∏‡§æ‡§•‡•Ä ‡§ï‡§æ ‡§®‡§æ‡§Æ", name1Placeholder: "‡§™‡§π‡§≤‡§æ ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç", name2Placeholder: "‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç", calculateBtn: "‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§§‡§æ ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç", defaultMessage: "‡§Ö‡§™‡§®‡•Ä ‡§™‡•ç‡§∞‡•á‡§Æ ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§§‡§æ ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",
          messages: { 90: "‡§â‡§§‡•ç‡§§‡§Æ ‡§Æ‡•á‡§≤! ‡§Ü‡§™ ‡§è‡§ï ‡§¶‡•Ç‡§∏‡§∞‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§®‡•á ‡§π‡•à‡§Ç!", 70: "‡§â‡§§‡•ç‡§ï‡•É‡§∑‡•ç‡§ü ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§§‡§æ! ‡§Ü‡§™‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§π‡•à‡•§", 50: "‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ! ‡§Ü‡§™ ‡§Ö‡§™‡§®‡•á ‡§∞‡§ø‡§∂‡•ç‡§§‡•á ‡§™‡§∞ ‡§ï‡§æ‡§Æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§", 0: "‡§Ü‡§™‡§ï‡•ã ‡§á‡§∏ ‡§∞‡§ø‡§∂‡•ç‡§§‡•á ‡§Æ‡•á‡§Ç ‡§î‡§∞ ‡§Ö‡§ß‡§ø‡§ï ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à‡•§" },
          shareNotificationText: "‡§Ö‡§™‡§®‡•á ‡§™‡§æ‡§∞‡•ç‡§ü‡§®‡§∞ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§™‡§®‡§æ ‡§≤‡§µ ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç!", shareTitle: "‡§™‡•ç‡§∞‡•á‡§Æ ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§§‡§æ"
        },
        ur: {
          labelName1: "ÿ¢Ÿæ ⁄©ÿß ŸÜÿßŸÖ", labelName2: "ÿ¢Ÿæ ⁄©€í ÿ≥ÿßÿ™⁄æ€å ⁄©ÿß ŸÜÿßŸÖ", name1Placeholder: "Ÿæ€ÅŸÑÿß ŸÜÿßŸÖ ÿØÿ±ÿ¨ ⁄©ÿ±€å⁄∫", name2Placeholder: "ÿØŸàÿ≥ÿ±ÿß ŸÜÿßŸÖ ÿØÿ±ÿ¨ ⁄©ÿ±€å⁄∫", calculateBtn: "ŸÖÿ≠ÿ®ÿ™ ⁄©€å ŸÖÿ∑ÿßÿ®ŸÇÿ™ ⁄©ÿß ÿ≠ÿ≥ÿßÿ® ŸÑ⁄Øÿßÿ¶€å⁄∫", defaultMessage: "ÿßŸæŸÜ€å ŸÖÿ≠ÿ®ÿ™ ⁄©€å ŸÖÿ∑ÿßÿ®ŸÇÿ™ ⁄©ÿß ÿ≠ÿ≥ÿßÿ® ŸÑ⁄ØÿßŸÜ€í ⁄©€í ŸÑ€å€í ŸÜÿßŸÖ ÿØÿ±ÿ¨ ⁄©ÿ±€å⁄∫",
          messages: { 90: "ÿ®€Åÿ™ÿ±€åŸÜ ŸÖ€å⁄Ü! ÿ¢Ÿæ ÿß€å⁄© ÿØŸàÿ≥ÿ±€í ⁄©€í ŸÑ€å€í ÿ®ŸÜ€í €Å€å⁄∫!", 70: "ÿ≤ÿ®ÿ±ÿØÿ≥ÿ™ ŸÖÿ∑ÿßÿ®ŸÇÿ™! ÿ¢Ÿæ ⁄©ÿß ŸÖÿ∂ÿ®Ÿàÿ∑ ÿ™ÿπŸÑŸÇ €Å€í€î", 50: "ÿß⁄Ü⁄æ€å ÿµŸÑÿßÿ≠€åÿ™! ÿ¢Ÿæ ÿßŸæŸÜ€í ÿ™ÿπŸÑŸÇÿßÿ™ Ÿæÿ± ⁄©ÿßŸÖ ⁄©ÿ± ÿ≥⁄©ÿ™€í €Å€å⁄∫€î", 0: "ÿ¢Ÿæ ⁄©Ÿà ÿßÿ≥ ÿ±ÿ¥ÿ™€í ŸÖ€å⁄∫ ŸÖÿ≤€åÿØ ⁄©Ÿàÿ¥ÿ¥ ⁄©ÿ±ŸÜ€í ⁄©€å ÿ∂ÿ±Ÿàÿ±ÿ™ €Å€í€î" },
          shareNotificationText: "ÿßŸæŸÜ€í Ÿæÿßÿ±ŸπŸÜÿ± ⁄©€í ÿ≥ÿßÿ™⁄æ ÿßŸæŸÜÿß ŸÑŸà ÿßÿ≥⁄©Ÿàÿ± ÿ¥€åÿ¶ÿ± ⁄©ÿ±€å⁄∫!", shareTitle: "ŸÖÿ≠ÿ®ÿ™ ⁄©€å ŸÖÿ∑ÿßÿ®ŸÇÿ™"
        }
      };
      
      const shareMessageTemplates = {
          hi: (name1, name2, percentage, romanticMessage) => `‡§Ü‡§™ ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•á ‡§™‡§æ‡§∞‡•ç‡§ü‡§®‡§∞ (${name1} ‡§î‡§∞ ${name2}) ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§π‡•à: ${percentage}\n\n${romanticMessage}\n\n‡§Ø‡§π ‡§≤‡§µ ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞ ‡§ê‡§™ ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç: ${appUrl}`,
          en: (name1, name2, percentage, romanticMessage) => `Our love score is: ${percentage}\nYour Name: ${name1}\nYour Partner's Name: ${name2}\n\n${romanticMessage}\n\nDownload this Love Calculator App: ${appUrl}`
      }

      // Language update UI
      function updateLanguage() {
        const lang = languageSelect.value;
        const t = translations[lang] || translations.en;
        labelName1.textContent = t.labelName1;
        labelName2.textContent = t.labelName2;
        name1Input.placeholder = t.name1Placeholder;
        name2Input.placeholder = t.name2Placeholder;
        calculateBtn.innerHTML = `<i class="fas fa-heart"></i> ${t.calculateBtn}`;
        document.querySelector('.share-notification-text').textContent = t.shareNotificationText;
        if (!name1Input.value || !name2Input.value) {
          messageDiv.textContent = t.defaultMessage;
        }
      }

      updateLanguage();
      languageSelect.addEventListener('change', updateLanguage);

      // Create floating hearts for background effect
      for (let i = 0; i < 20; i++) {
        const heart = document.createElement('div');
        heart.classList.add('floating-heart');
        heart.innerHTML = '<i class="fas fa-heart"></i>';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.top = Math.random() * 100 + 'vh';
        heart.style.setProperty('--x', Math.random());
        heart.style.animationDuration = (20 + Math.random() * 30) + 's';
        heart.style.animationDelay = Math.random() * 10 + 's';
        floatingHearts.appendChild(heart);
      }

      // Calculate handler
      calculateBtn.addEventListener('click', function() {
        const name1 = name1Input.value.trim();
        const name2 = name2Input.value.trim();
        const lang = languageSelect.value;
        const t = translations[lang] || translations.en;

        if (!name1 || !name2) {
            showNotification(lang === 'hi' ? '‡§ï‡•É‡§™‡§Ø‡§æ ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç!' :
                     lang === 'ur' ? 'ÿ®ÿ±ÿß€Å ⁄©ÿ±ŸÖ ÿØŸàŸÜŸà⁄∫ ŸÜÿßŸÖ ÿØÿ±ÿ¨ ⁄©ÿ±€å⁄∫!' :
                       'Please enter both names!');
            return;
        }

        const lovePercentage = calculateLovePercentage(name1, name2);
        resultDiv.classList.remove('show');

        // Play the sound effect and create the explosion after a short delay
        setTimeout(() => {
          percentageDiv.textContent = lovePercentage + '%';
          let message;
          if (lovePercentage >= 90) {
            message = t.messages[90];
          } else if (lovePercentage >= 70) {
            message = t.messages[70];
          } else if (lovePercentage >= 50) {
            message = t.messages[50];
          } else {
            message = t.messages[0];
          }
          messageDiv.textContent = message;

          if (lovePercentage > 80) {
            percentageDiv.classList.add('heartbeat');
          } else {
            percentageDiv.classList.remove('heartbeat');
          }

          resultDiv.classList.add('show');
          
          // Trigger the new heart explosion effect and sound
          createHeartExplosion();
          playLoveSound();
          createFallingHearts();

          setTimeout(() => {
            shareNotification.classList.add('show');
          }, 1000);
        }, 500);
      });

      function calculateLovePercentage(name1, name2) {
        const combinedNames = (name1 + name2).toLowerCase().replace(/\s/g, '');
        let hash = 0;
        for (let i = 0; i < combinedNames.length; i++) {
          hash = combinedNames.charCodeAt(i) + ((hash << 5) - hash);
        }
        hash = Math.abs(hash);
        const percentage = 50 + (hash % 50);
        return Math.min(percentage, 100);
      }

      // Function to create the heart explosion effect
      function createHeartExplosion() {
        heartExplosionDiv.innerHTML = ''; // Clear previous hearts
        const count = 30; // Number of hearts in the explosion
        const resultRect = resultDiv.getBoundingClientRect();
        const centerX = resultRect.left + resultRect.width / 2;
        const centerY = resultRect.top + resultRect.height / 2;
        
        for (let i = 0; i < count; i++) {
          const heart = document.createElement('div');
          heart.classList.add('heart-piece');
          heart.innerHTML = '<i class="fas fa-heart"></i>';

          // Set initial position to the center of the result box
          heart.style.left = `${centerX}px`;
          heart.style.top = `${centerY}px`;

          // Calculate random destination
          const angle = Math.random() * Math.PI * 2;
          const distance = Math.random() * 150 + 50; // Random distance from center
          const destinationX = distance * Math.cos(angle);
          const destinationY = distance * Math.sin(angle);
          
          heart.style.setProperty('--x', `${destinationX}px`);
          heart.style.setProperty('--y', `${destinationY}px`);
          
          heartExplosionDiv.appendChild(heart);

          // Remove heart after animation to free up memory
          setTimeout(() => heart.remove(), 1000);
        }
      }

      // Function to play a simple synth sound with Tone.js
      function playLoveSound() {
        if (!audioSynth) {
          setupAudio();
        }
        if (audioSynth && Tone.context.state === 'running') {
          // Play a simple chord or note sequence for a "pop" sound
          const now = Tone.now();
          audioSynth.triggerAttackRelease("C4", "8n", now);
          audioSynth.triggerAttackRelease("E4", "8n", now + 0.1);
          audioSynth.triggerAttackRelease("G4", "8n", now + 0.2);
        }
      }
      
      // Function to show a custom notification instead of alert()
      function showNotification(message) {
        const lang = languageSelect.value;
        const isCopySuccess = message.includes('clipboard');
        copyNotification.textContent = isCopySuccess ? (lang === 'hi' ? '‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§ï‡•ç‡§≤‡§ø‡§™‡§¨‡•ã‡§∞‡•ç‡§° ‡§™‡§∞ ‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à!' : 'Message copied to clipboard!') : message;
        copyNotification.classList.add('show');
        setTimeout(() => {
            copyNotification.classList.remove('show');
        }, 3000);
      }
      
      // Share notification button click handler
      shareNotificationBtn.addEventListener('click', async function() {
        shareNotification.classList.remove('show');
        const name1 = name1Input.value.trim() || 'Someone';
        const name2 = name2Input.value.trim() || 'Someone';
        const percentage = percentageDiv.textContent;
        const lang = languageSelect.value;
        const messages = romanticMessages[lang] || romanticMessages.en;
        const randomMessage = messages[Math.floor(Math.random() * messages.length)];
        
        // Construct the new professional share message
        const shareText = shareMessageTemplates[lang]
                         ? shareMessageTemplates[lang](name1.toUpperCase(), name2.toUpperCase(), percentage, randomMessage)
                         : shareMessageTemplates['en'](name1.toUpperCase(), name2.toUpperCase(), percentage, randomMessage);
        
        // Copy the message to the clipboard
        const tempInput = document.createElement('textarea');
        tempInput.value = shareText;
        tempInput.style.position = 'absolute';
        tempInput.style.left = '-9999px';
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand('copy');
        document.body.removeChild(tempInput);
        
        showNotification(lang === 'hi' ? '‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§ï‡•ç‡§≤‡§ø‡§™‡§¨‡•ã‡§∞‡•ç‡§° ‡§™‡§∞ ‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à!' : 'Message copied to clipboard!');
      });

      // Function to create hearts falling from the top
      function createFallingHearts() {
        for (let i = 0; i < 20; i++) {
          const heart = document.createElement('div');
          heart.classList.add('falling-heart');
          heart.innerHTML = '<i class="fas fa-heart"></i>';
          heart.style.left = Math.random() * 100 + 'vw';
          heart.style.animationDelay = Math.random() * 2 + 's';
          heart.style.animationDuration = (3 + Math.random() * 2) + 's';
          fallingHeartsContainer.appendChild(heart);
          
          setTimeout(() => {
            heart.remove();
          }, 5000);
        }
      }

      // Initial hearts (optional on load for a fancy effect)
      for (let i = 0; i < 15; i++) {
        const heart = document.createElement('div');
        heart.classList.add('heart');
        heart.innerHTML = '<i class="fas fa-heart"></i>';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animationDelay = Math.random() * 3 + 's';
        heartsContainer.appendChild(heart);
        setTimeout(() => { heart.remove(); }, 8000);
      }
    });
  </script>
</body>
</html>
